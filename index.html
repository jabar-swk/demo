<!DOCTYPE html>
<html>

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>SimpleLogin demo</title>

  <!-- Bootstrap css -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <!-- Bootstrap social for styling social login buttons -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-social/4.12.0/bootstrap-social.min.css">

  <!-- To include SimpleLogin icon -->
  <link rel="stylesheet" type="text/css" href="https://simplelogin.io/font/flaticon.css">

  <link rel="stylesheet" type="text/css" href="/main.css">
</head>

<body>
  <div class="container" id="app">
    <div class="text-center">
      <h1>SimpleLogin demo</h1>
      <h3>A typical website that has SimpleLogin integrated.</h3>
      <p>
        Upon successful login, you will see the information
        that the website receives when you sign in with SimpleLogin.
      </p>

      <p>
        This website also features Facebook login for comparison.
      </p>
      <p>
        None of your data is saved or used for any purpose.
      </p>
      <p>
        The code source is available on <a href="todo">Github</a>
      </p>
    </div>

    <div class="row">
      <div class="col text-center" style="width: 500px;">
        <button class="btn btn-social btn-primary">
          <i class="flaticon-021-shield-7"></i> Connect with SimpleLogin
        </button>

      </div>

      <div class="col text-center" style="width: 500px;">
        <div class="fb-login-button" data-width="" data-size="large" data-button-type="continue_with"
          data-auto-logout-link="false" data-use-continue-as="false" scope="public_profile,email"
          onlogin="checkLoginState();">
        </div>

        <div v-if="fb_login">
          <p class="text-success">Successful login! </p>
          <p>Below is the information this website receives from Facebook:</p>
          Email: {{fb_user.email}} <br>
          Name: {{fb_user.name}} <br>
          Avatar: <img :src=fb_user.avatar_url>
        </div>
      </div>
    </div>

    <div class="text-center">
      <div v-if="!fb_login">
        <img src="not-login.png" style="max-width: 400px; margin-top: 100px">
      </div>

      <div v-if="fb_login">
        <h4 class="text-success">Congratulations! You now have access to this super secret information!</h4>
        <img src="login.png" style="max-width: 400px; margin-top: 100px">
      </div>
    </div>

    <!--
<center>  
  <button id="login-button">Login</button>
</center>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
<script src="https://www.sakimura.org/test/openidconnect.js"></script>

<script type="text/javascript">
  $(function () {
    var clientInfo = {
      client_id: 'client-id',
      redirect_uri: '{{ redirect_uri }}'
    };

    OIDC.setClientInfo(clientInfo);

    var providerInfo = OIDC.discover('{{ SERVER_URL }}');

    OIDC.setProviderInfo(providerInfo);
    OIDC.storeInfo(providerInfo, clientInfo);

    // Restore configuration information.
    OIDC.restoreInfo();

    // Get Access Token
    var token = OIDC.getAccessToken();

    // Make userinfo request using access_token.
    if (token !== null) {
      $.get('{{ SERVER_URL }}' + '/oauth2/userinfo/?access_token=' + token, function (data) {
        alert('USERINFO: ' + JSON.stringify(data));
      });
    }

    // Make an authorization request if the user click the login button.
    $('#login-button').click(function (event) {
      OIDC.login({
        scope: 'openid profile email',
        response_type: 'id_token token'
      });
    });
  });
</script>
-->


  </div>

  <!-- Facebook JS SDK -->
  <div id="fb-root"></div>
  <script async defer crossorigin="anonymous"
    src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.3&appId=410139219846977&autoLogAppEvents=1"></script>

  <!-- Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>

  <!-- OpenID Connect -->
  <script src="https://www.sakimura.org/test/openidconnect.js"></script>

  <!-- VueJS -->
  <!-- development version, includes helpful console warnings -->
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

  <script src="/main.js"></script>
</body>

</html>